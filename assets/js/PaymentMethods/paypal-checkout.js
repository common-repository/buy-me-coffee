class u{constructor(t,a){this.form=t,this.data=a.data}init(){var a;this.form.find(".wpm_submit_button, .buymecoffee_pay_method").hide();let t=jQuery("<div style='padding: 0px;'></div>");paypal.Buttons({fundingSource:paypal.FUNDING.PAYPAL,style:{shape:"pill",layout:"vertical",label:"paypal",size:"responsive",disableMaxWidth:!0},createOrder:(o,r)=>r.order.create({purchase_units:[this.data.purchase_units]}),onApprove:(o,r)=>r.order.capture().then(i=>{var p=i==null?void 0:i.purchase_units[0].payments.captures[0];jQuery.post(window.buymecoffee_general.ajax_url,{action:"buymecoffee_payment_confirmation_paypal",hash:this.data.hash,charge_id:p.id}).then(c=>{var e;window.location=(e=this.data)==null?void 0:e.confirmation_url}).catch(c=>{var e;window.location=(e=this.data)==null?void 0:e.confirmation_url})}),onError:function(o){alert("An error occurred: "+o)}}).render(t[0]),this.form.find(".buymecoffee_form_submit_wrapper, .buymecoffee_no_signup, .buymecoffee_input_content, .buymecoffee_payment_input_content").hide(),(a=this.form.find(".buymecoffee_pay_methods"))==null||a.parent().append(t),this.form.prepend("<p class='complete_payment_instruction'>Please complete your donation with PayPal \u{1F447}</p>")}}window.addEventListener("buymecoffee_payment_next_action_paypal",function(n){new u(n.detail.form,n.detail.response).init()});
